<template>
  <div class="container">
    <div class="level pt-6">
      <div class="level-left">
        <h1 class="title is-2">Schools</h1>
      </div>
      <div class="level-right">
        <b-button label="Add school" type="is-link" size="is-medium" @click.prevent="addSchool" />
      </div>
    </div>
    <hr />
    <div class="content">
      <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
            <SchoolComponent
        :school="{
          title: 'UKTC',
          city: 'Pravets',
          rating: '4.2',
          photoURL: 'https://uktc-bg.com/uktc-content/themes/uktc-wp/images/logo.png',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
      <SchoolComponent
        :school="{
          title: 'PMG \'Ivan Vazov\'',
          city: 'Dobrich',
          rating: '2.3',
          description:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' +
            'Donec sit amet odio sapien. ' +
            'Donec est libero, aliquet sit amet enim eget, luctus lobortis nisl. ' +
            'Fusce gravida ex ut hendrerit volutpat. ' +
            'Fusce auctor tellus eget nulla pharetra rutrum. ' +
            'Nulla auctor vitae arcu fringilla consequat. ' +
            'Proin non mauris magna.',
        }"
      />
    </div>
    <b-modal v-model="isCardModalActive" :width="640" scroll="keep">
      <div class="card">
        <div class="card-content">
          <div class="level">
            <h1>pog</h1>
          </div>
        </div>
      </div>
    </b-modal>
  </div>
</template>

<script>
import { mapState } from 'vuex';
import router from '@/router';
import SchoolComponent from '@/components/SchoolComponent.vue';

export default {
  computed: mapState('auth', ['error', 'isLoggedIn', 'user']),
  components: {
    SchoolComponent,
  },
  data() {
    return {
      isCardModalActive: false,
    };
  },
  methods: {
    addSchool() {
      if (!this.isLoggedIn) {
        this.displaySnackbar();
      } else {
        this.isCardModalActive = true;
      }
    },

    displaySnackbar() {
      this.$buefy.snackbar.open({
        message: 'You need to be logged in to access this action',
        actionText: 'Login',
        type: 'is-link',
        onAction: () => {
          router.push('/login');
        },
      });
    },
  },
};
</script>

<style>
@media (max-width: 768px) {
  .container {
    text-align: center;
  }

  .content .image {
    display: none;
  }

  .level-left {
    padding-bottom: 1em;
  }
}

.content .media:last-child {
  padding-bottom: 18em;
}

hr {
  background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.4), transparent);
}
</style>
